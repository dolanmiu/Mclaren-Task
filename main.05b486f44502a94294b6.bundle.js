webpackJsonp([1],{"+h1B":function(l,n,u){"use strict";var t=u("/oeL"),r=u("aR8+"),e=u("wQAS"),i=u("q4dy"),a=u("qbdv"),o=u("fc+i"),c=u("CPp0"),s=u("fM/L"),f=u("IYtu"),_=u("H/Di"),m=u("+jIx");u.d(n,"a",function(){return p});var p=t.b(r.a,[e.a],function(l){return t.c([t.d(512,t.e,t.f,[[8,[i.a]],[3,t.e],t.g]),t.d(5120,t.h,t.i,[[3,t.h]]),t.d(4608,a.a,a.b,[t.h]),t.d(4608,t.j,t.j,[]),t.d(5120,t.k,t.l,[]),t.d(5120,t.m,t.n,[]),t.d(5120,t.o,t.p,[]),t.d(4608,o.b,o.c,[a.c]),t.d(6144,t.q,null,[o.b]),t.d(4608,o.d,o.e,[]),t.d(5120,o.f,function(l,n,u,t){return[new o.g(l),new o.h(n),new o.i(u,t)]},[a.c,a.c,a.c,o.d]),t.d(4608,o.j,o.j,[o.f,t.r]),t.d(135680,o.k,o.k,[a.c]),t.d(4608,o.l,o.l,[o.j,o.k]),t.d(6144,t.s,null,[o.l]),t.d(6144,o.m,null,[o.k]),t.d(4608,t.t,t.t,[t.r]),t.d(4608,o.n,o.n,[a.c]),t.d(4608,o.o,o.o,[a.c]),t.d(4608,c.a,c.a,[]),t.d(4608,c.b,c.c,[]),t.d(5120,c.d,c.e,[]),t.d(4608,c.f,c.f,[c.a,c.b,c.d]),t.d(4608,c.g,c.h,[]),t.d(5120,c.i,c.j,[c.f,c.g]),t.d(4608,s.a,s.a,[c.i]),t.d(4608,f.a,f.a,[c.i]),t.d(4608,_.a,_.a,[s.a,f.a]),t.d(512,a.d,a.d,[]),t.d(1024,t.u,o.p,[]),t.d(1024,t.v,function(l,n){return[o.q(l,n)]},[[2,o.r],[2,t.w]]),t.d(512,t.x,t.x,[[2,t.v]]),t.d(131584,t.y,t.y,[t.r,t.z,t.A,t.u,t.e,t.x]),t.d(2048,t.B,null,[t.y]),t.d(512,t.C,t.C,[t.B]),t.d(512,o.s,o.s,[[3,o.s]]),t.d(512,c.k,c.k,[]),t.d(512,m.a,m.a,[]),t.d(512,r.a,r.a,[])])})},"+jIx":function(l,n,u){"use strict";u.d(n,"a",function(){return t});var t=function(){function l(){}return l}()},1:function(l,n,u){l.exports=u("cDNt")},"H/Di":function(l,n,u){"use strict";var t=u("xrDH"),r=(u.n(t),u("IYtu")),e=u("fM/L");u.d(n,"a",function(){return i});var i=function(){function l(l,n){var u=this;this.patientsService=l,this.activitiesService=n,this.aggregation$=this.patientsService.fetchPatients().filter(function(l){return l.age>=20&&l.age<=40}).flatMap(function(l){return u.patientsService.fetchPatientSummary(l.id).toArray().map(function(n){return{patient:l,summary:n}})}),this.summary$=this.aggregation$.flatMap(function(l){return u.activitiesService.Activities$.toArray().map(function(n){var r=l.summary.map(function(l){return u.getScoreFromActivity(l.activity,n)*l.minutes});return{patient:l.patient,score:t.sum(r)}})}).toArray()}return Object.defineProperty(l.prototype,"Summary$",{get:function(){return this.summary$},enumerable:!0,configurable:!0}),l.prototype.getScoreFromActivity=function(l,n){return n.find(function(n){return n.activity===l}).score},l.ctorParameters=function(){return[{type:e.a},{type:r.a}]},l}()},IYtu:function(l,n,u){"use strict";var t=u("CPp0");u.d(n,"a",function(){return r});var r=function(){function l(l){this.http=l,this.activies$=this.http.get("assets/mock-api-data/definitions/activities.json").flatMap(function(l){return l.json()}).map(function(l){switch(l.intensity){case"moderate":l.score=1;break;case"vigorous":l.score=.5;break;default:l.score=0}return l})}return Object.defineProperty(l.prototype,"Activities$",{get:function(){return this.activies$},enumerable:!0,configurable:!0}),l.ctorParameters=function(){return[{type:t.i}]},l}()},"aR8+":function(l,n,u){"use strict";u.d(n,"a",function(){return t});var t=function(){function l(){}return l}()},cDNt:function(l,n,u){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=u("/oeL"),r=u("p5Ee"),e=u("+h1B"),i=u("fc+i");r.a.production&&u.i(t.a)(),u.i(i.a)().bootstrapModuleFactory(e.a)},"fM/L":function(l,n,u){"use strict";var t=u("CPp0"),r=u("Dqrr");u.n(r);u.d(n,"a",function(){return e});var e=function(){function l(l){this.http=l}return l.prototype.fetchPatients=function(){var l=this;return this.http.get("assets/mock-api-data/patients.json").flatMap(function(l){return l.json()}).map(function(n){return n.age=l.calculateAge(n.birthDate),n})},l.prototype.fetchPatientSummary=function(l){return this.http.get("assets/mock-api-data/patients/"+l+"/summary.json").flatMap(function(l){return l.json()})},l.prototype.calculateAge=function(l){var n=new Date(l),u=Date.now()-n.getTime(),t=new Date(u);return Math.abs(t.getUTCFullYear()-1970)},l.ctorParameters=function(){return[{type:t.i}]},l}()},k7ea:function(l,n,u){"use strict";u.d(n,"a",function(){return t});var t=[""]},p5Ee:function(l,n,u){"use strict";u.d(n,"a",function(){return t});var t={production:!0}},q4dy:function(l,n,u){"use strict";function t(l){return c._12(0,[(l()(),c._13(0,null,null,15,"tr",[],null,null,null,null,null)),c._14(278528,null,0,s.h,[c.m,c.o,c.Z,c._0],{ngClass:[0,"ngClass"]},null),c._15({"table-danger":0}),(l()(),c._16(null,["\n                        "])),(l()(),c._13(0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(l()(),c._16(null,["",""])),(l()(),c._16(null,["\n                        "])),(l()(),c._13(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),c._16(null,["",""])),(l()(),c._16(null,["\n                        "])),(l()(),c._13(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),c._16(null,["",""])),(l()(),c._16(null,["\n                        "])),(l()(),c._13(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),c._16(null,["",""])),(l()(),c._16(null,["\n                    "]))],function(l,n){l(n,1,0,l(n,2,0,n.context.$implicit.score<150))},function(l,n){l(n,5,0,n.context.$implicit.patient.id),l(n,8,0,n.context.$implicit.patient.name),l(n,11,0,n.context.$implicit.patient.age),l(n,14,0,n.context.$implicit.score)})}function r(l){return c._12(0,[(l()(),c._13(0,null,null,25,"table",[["class","table"]],null,null,null,null,null)),(l()(),c._16(null,["\n                "])),(l()(),c._13(0,null,null,16,"thead",[],null,null,null,null,null)),(l()(),c._16(null,["\n                    "])),(l()(),c._13(0,null,null,13,"tr",[],null,null,null,null,null)),(l()(),c._16(null,["\n                        "])),(l()(),c._13(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),c._16(null,["#"])),(l()(),c._16(null,["\n                        "])),(l()(),c._13(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),c._16(null,["Name"])),(l()(),c._16(null,["\n                        "])),(l()(),c._13(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),c._16(null,["Age"])),(l()(),c._16(null,["\n                        "])),(l()(),c._13(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),c._16(null,["Score"])),(l()(),c._16(null,["\n                    "])),(l()(),c._16(null,["\n                "])),(l()(),c._16(null,["\n                "])),(l()(),c._13(0,null,null,4,"tbody",[],null,null,null,null,null)),(l()(),c._16(null,["\n                    "])),(l()(),c._17(16777216,null,null,1,null,t)),c._14(802816,null,0,s.i,[c._2,c._3,c.m],{ngForOf:[0,"ngForOf"]},null),(l()(),c._16(null,["\n                "])),(l()(),c._16(null,["\n            "]))],function(l,n){l(n,23,0,n.context.$implicit)},null)}function e(l){return c._12(0,[(l()(),c._16(null,["\n                "])),(l()(),c._13(0,null,null,1,"span",[["class","text-center"]],null,null,null,null,null)),(l()(),c._16(null,["Loading"])),(l()(),c._16(null,["\n            "]))],null,null)}function i(l){return c._12(0,[(l()(),c._13(0,null,null,62,"div",[["class","container"]],null,null,null,null,null)),(l()(),c._16(null,["\n    "])),(l()(),c._13(0,null,null,3,"h1",[],null,null,null,null,null)),(l()(),c._16(null,["Mclaren Task "])),(l()(),c._13(0,null,null,1,"small",[],null,null,null,null,null)),(l()(),c._16(null,["Front-end recruitment challenge"])),(l()(),c._16(null,["\n    "])),(l()(),c._13(0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(l()(),c._16(null,["\n        A hospital is running a trial to see if their patients age 20-40 are falling below the recommended level of activity\n    "])),(l()(),c._16(null,["\n    "])),(l()(),c._13(0,null,null,13,"p",[["class","lead"]],null,null,null,null,null)),(l()(),c._16(null,["\n        This is displayed by an easy score system. Each minute of vigorous excersize amounts to "])),(l()(),c._13(0,null,null,1,"code",[],null,null,null,null,null)),(l()(),c._16(null,["1"])),(l()(),c._16(null,[" score. Moderate\n        excersize amounts to "])),(l()(),c._13(0,null,null,1,"code",[],null,null,null,null,null)),(l()(),c._16(null,["0.5"])),(l()(),c._16(null,[" score. It is recommended to have a score of "])),(l()(),c._13(0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),c._16(null,["150"])),(l()(),c._16(null,[", or they are\n        most likely "])),(l()(),c._13(0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),c._16(null,["unhealthy"])),(l()(),c._16(null,[".\n    "])),(l()(),c._16(null,["\n    "])),(l()(),c._13(0,null,null,36,"div",[["class","row"]],null,null,null,null,null)),(l()(),c._16(null,["\n        "])),(l()(),c._13(0,null,null,16,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),c._16(null,["\n            "])),(l()(),c._13(0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),c._16(null,["\n                "])),(l()(),c._13(0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,u){var t=!0,r=l.component;if("click"===n){t=!1!==r.sortById()&&t}return t},null,null)),(l()(),c._16(null,["Sort by ID"])),(l()(),c._16(null,["\n                "])),(l()(),c._13(0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,u){var t=!0,r=l.component;if("click"===n){t=!1!==r.sortByScore()&&t}return t},null,null)),(l()(),c._16(null,["Sort by score"])),(l()(),c._16(null,["\n                "])),(l()(),c._13(0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,u){var t=!0,r=l.component;if("click"===n){t=!1!==r.sortByAge()&&t}return t},null,null)),(l()(),c._16(null,["Sort by age"])),(l()(),c._16(null,["\n                "])),(l()(),c._13(0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,u){var t=!0,r=l.component;if("click"===n){t=!1!==r.sortByName()&&t}return t},null,null)),(l()(),c._16(null,["Sort by name"])),(l()(),c._16(null,["\n            "])),(l()(),c._16(null,["\n        "])),(l()(),c._16(null,["\n        "])),(l()(),c._13(0,null,null,6,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),c._16(null,["\n            "])),(l()(),c._13(0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),c._16(null,["\n                "])),(l()(),c._13(0,null,null,0,"input",[["class","form-control"],["placeholder","Search..."]],null,null,null,null,null)),(l()(),c._16(null,["\n            "])),(l()(),c._16(null,["\n        "])),(l()(),c._16(null,["\n        "])),(l()(),c._13(0,null,null,7,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),c._16(null,["\n            "])),(l()(),c._17(16777216,null,null,2,null,r)),c._14(16384,null,0,s.j,[c._2,c._3],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),c._18(131072,s.k,[c._10]),(l()(),c._16(null,["\n            "])),(l()(),c._17(0,[["loading",2]],null,0,null,e)),(l()(),c._16(null,["\n        "])),(l()(),c._16(null,["\n    "])),(l()(),c._16(null,["\n"])),(l()(),c._16(null,["\n"]))],function(l,n){var u=n.component;l(n,56,0,c._19(n,56,0,c._20(n,57).transform(u.summary$)),c._20(n,59))},null)}function a(l){return c._12(0,[(l()(),c._13(0,null,null,1,"app-root",[],null,null,null,i,p)),c._14(49152,null,0,f.a,[_.a],null,null)],null,null)}var o=u("k7ea"),c=u("/oeL"),s=u("qbdv"),f=u("wQAS"),_=u("H/Di");u.d(n,"a",function(){return d});var m=[o.a],p=c._11({encapsulation:0,styles:m,data:{}}),d=c._21("app-root",f.a,a,{},{},[])},qtrl:function(l,n){function u(l){throw new Error("Cannot find module '"+l+"'.")}u.keys=function(){return[]},u.resolve=u,l.exports=u,u.id="qtrl"},wQAS:function(l,n,u){"use strict";var t=u("H/Di");u.d(n,"a",function(){return r});var r=function(){function l(l){this.summaryService=l,this.summary$=l.Summary$}return l.prototype.sortByScore=function(){this.summary$=this.summaryService.Summary$.map(function(l){return l.sort(function(l,n){return l.score>n.score?1:-1})})},l.prototype.sortById=function(){this.summary$=this.summaryService.Summary$.map(function(l){return l.sort(function(l,n){return l.patient.id>n.patient.id?1:-1})})},l.prototype.sortByAge=function(){this.summary$=this.summaryService.Summary$.map(function(l){return l.sort(function(l,n){return l.patient.age>n.patient.age?1:-1})})},l.prototype.sortByName=function(){this.summary$=this.summaryService.Summary$.map(function(l){return l.sort(function(l,n){return l.patient.name>n.patient.name?1:-1})})},l.ctorParameters=function(){return[{type:t.a}]},l}()}},[1]);