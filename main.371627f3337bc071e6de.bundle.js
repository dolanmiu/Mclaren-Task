webpackJsonp([1],{"+h1B":function(l,n,u){"use strict";var t=u("/oeL"),e=u("aR8+"),r=u("wQAS"),i=u("q4dy"),a=u("qbdv"),o=u("fc+i"),c=u("bm2B"),s=u("CPp0"),_=u("fM/L"),f=u("IYtu"),d=u("H/Di"),m=u("+jIx");u.d(n,"a",function(){return p});var p=t.b(e.a,[r.a],function(l){return t.c([t.d(512,t.e,t.f,[[8,[i.a]],[3,t.e],t.g]),t.d(5120,t.h,t.i,[[3,t.h]]),t.d(4608,a.a,a.b,[t.h]),t.d(4608,t.j,t.j,[]),t.d(5120,t.k,t.l,[]),t.d(5120,t.m,t.n,[]),t.d(5120,t.o,t.p,[]),t.d(4608,o.b,o.c,[a.c]),t.d(6144,t.q,null,[o.b]),t.d(4608,o.d,o.e,[]),t.d(5120,o.f,function(l,n,u,t){return[new o.g(l),new o.h(n),new o.i(u,t)]},[a.c,a.c,a.c,o.d]),t.d(4608,o.j,o.j,[o.f,t.r]),t.d(135680,o.k,o.k,[a.c]),t.d(4608,o.l,o.l,[o.j,o.k]),t.d(6144,t.s,null,[o.l]),t.d(6144,o.m,null,[o.k]),t.d(4608,t.t,t.t,[t.r]),t.d(4608,o.n,o.n,[a.c]),t.d(4608,o.o,o.o,[a.c]),t.d(4608,c.a,c.a,[]),t.d(4608,s.a,s.a,[]),t.d(4608,s.b,s.c,[]),t.d(5120,s.d,s.e,[]),t.d(4608,s.f,s.f,[s.a,s.b,s.d]),t.d(4608,s.g,s.h,[]),t.d(5120,s.i,s.j,[s.f,s.g]),t.d(4608,_.a,_.a,[s.i]),t.d(4608,f.a,f.a,[s.i]),t.d(4608,d.a,d.a,[_.a,f.a]),t.d(512,a.d,a.d,[]),t.d(1024,t.u,o.p,[]),t.d(1024,t.v,function(l,n){return[o.q(l,n)]},[[2,o.r],[2,t.w]]),t.d(512,t.x,t.x,[[2,t.v]]),t.d(131584,t.y,t.y,[t.r,t.z,t.A,t.u,t.e,t.x]),t.d(2048,t.B,null,[t.y]),t.d(512,t.C,t.C,[t.B]),t.d(512,o.s,o.s,[[3,o.s]]),t.d(512,c.b,c.b,[]),t.d(512,c.c,c.c,[]),t.d(512,s.k,s.k,[]),t.d(512,m.a,m.a,[]),t.d(512,e.a,e.a,[])])})},"+jIx":function(l,n,u){"use strict";u.d(n,"a",function(){return t});var t=function(){function l(){}return l}()},1:function(l,n,u){l.exports=u("cDNt")},"H/Di":function(l,n,u){"use strict";var t=u("xrDH"),e=(u.n(t),u("IYtu")),r=u("fM/L");u.d(n,"a",function(){return i});var i=function(){function l(l,n){this.patientsService=l,this.activitiesService=n;var u=this.createAggregation$();this.summary$=this.createSummary$(u)}return Object.defineProperty(l.prototype,"Summary$",{get:function(){return this.summary$},enumerable:!0,configurable:!0}),l.prototype.createSummary$=function(l){var n=this;return l.flatMap(function(l){return n.activitiesService.Activities$.toArray().map(function(u){var e=l.summary.map(function(l){return n.getScoreFromActivity(l.activity,u)*l.minutes});return{patient:l.patient,score:t.sum(e)}})}).toArray()},l.prototype.createAggregation$=function(){var l=this;return this.patientsService.fetchPatients().filter(function(l){return l.age>=20&&l.age<=40}).flatMap(function(n){return l.patientsService.fetchPatientSummary(n.id).toArray().map(function(l){return{patient:n,summary:l}})})},l.prototype.getScoreFromActivity=function(l,n){return n.find(function(n){return n.activity===l}).score},l.ctorParameters=function(){return[{type:r.a},{type:e.a}]},l}()},IYtu:function(l,n,u){"use strict";var t=u("CPp0");u.d(n,"a",function(){return e});var e=function(){function l(l){this.http=l,this.activies$=this.http.get("assets/mock-api-data/definitions/activities.json").flatMap(function(l){return l.json()}).map(function(l){switch(l.intensity){case"moderate":l.score=1;break;case"vigorous":l.score=.5;break;default:l.score=0}return l})}return Object.defineProperty(l.prototype,"Activities$",{get:function(){return this.activies$},enumerable:!0,configurable:!0}),l.ctorParameters=function(){return[{type:t.i}]},l}()},"aR8+":function(l,n,u){"use strict";u.d(n,"a",function(){return t});var t=function(){function l(){}return l}()},cDNt:function(l,n,u){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=u("/oeL"),e=u("p5Ee"),r=u("+h1B"),i=u("fc+i");e.a.production&&u.i(t.a)(),u.i(i.a)().bootstrapModuleFactory(r.a)},"fM/L":function(l,n,u){"use strict";var t=u("CPp0"),e=u("Dqrr");u.n(e);u.d(n,"a",function(){return r});var r=function(){function l(l){this.http=l}return l.prototype.fetchPatients=function(){var l=this;return this.http.get("assets/mock-api-data/patients.json").flatMap(function(l){return l.json()}).map(function(n){return n.age=l.calculateAge(n.birthDate),n})},l.prototype.fetchPatientSummary=function(l){return this.http.get("assets/mock-api-data/patients/"+l+"/summary.json").flatMap(function(l){return l.json()})},l.prototype.calculateAge=function(l){var n=new Date(l),u=Date.now()-n.getTime(),t=new Date(u);return Math.abs(t.getUTCFullYear()-1970)},l.ctorParameters=function(){return[{type:t.i}]},l}()},k7ea:function(l,n,u){"use strict";u.d(n,"a",function(){return t});var t=[""]},p5Ee:function(l,n,u){"use strict";u.d(n,"a",function(){return t});var t={production:!0}},q4dy:function(l,n,u){"use strict";function t(l){return _._17(0,[(l()(),_._18(0,null,null,15,"tr",[],null,null,null,null,null)),_._19(278528,null,0,f.h,[_.m,_.o,_.Z,_._0],{ngClass:[0,"ngClass"]},null),_._20({"table-danger":0}),(l()(),_._21(null,["\n                        "])),(l()(),_._18(0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(l()(),_._21(null,["",""])),(l()(),_._21(null,["\n                        "])),(l()(),_._18(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),_._21(null,["",""])),(l()(),_._21(null,["\n                        "])),(l()(),_._18(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),_._21(null,["",""])),(l()(),_._21(null,["\n                        "])),(l()(),_._18(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),_._21(null,["",""])),(l()(),_._21(null,["\n                    "]))],function(l,n){l(n,1,0,l(n,2,0,n.context.$implicit.score<150))},function(l,n){l(n,5,0,n.context.$implicit.patient.id),l(n,8,0,n.context.$implicit.patient.name),l(n,11,0,n.context.$implicit.patient.age),l(n,14,0,n.context.$implicit.score)})}function e(l){return _._17(0,[(l()(),_._18(0,null,null,25,"table",[["class","table"]],null,null,null,null,null)),(l()(),_._21(null,["\n                "])),(l()(),_._18(0,null,null,16,"thead",[],null,null,null,null,null)),(l()(),_._21(null,["\n                    "])),(l()(),_._18(0,null,null,13,"tr",[],null,null,null,null,null)),(l()(),_._21(null,["\n                        "])),(l()(),_._18(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),_._21(null,["#"])),(l()(),_._21(null,["\n                        "])),(l()(),_._18(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),_._21(null,["Name"])),(l()(),_._21(null,["\n                        "])),(l()(),_._18(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),_._21(null,["Age"])),(l()(),_._21(null,["\n                        "])),(l()(),_._18(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),_._21(null,["Score"])),(l()(),_._21(null,["\n                    "])),(l()(),_._21(null,["\n                "])),(l()(),_._21(null,["\n                "])),(l()(),_._18(0,null,null,4,"tbody",[],null,null,null,null,null)),(l()(),_._21(null,["\n                    "])),(l()(),_._22(16777216,null,null,1,null,t)),_._19(802816,null,0,f.i,[_._2,_._3,_.m],{ngForOf:[0,"ngForOf"]},null),(l()(),_._21(null,["\n                "])),(l()(),_._21(null,["\n            "]))],function(l,n){l(n,23,0,n.context.$implicit)},null)}function r(l){return _._17(0,[(l()(),_._18(0,null,null,15,"tr",[],null,null,null,null,null)),_._19(278528,null,0,f.h,[_.m,_.o,_.Z,_._0],{ngClass:[0,"ngClass"]},null),_._20({"table-danger":0}),(l()(),_._21(null,["\n                        "])),(l()(),_._18(0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(l()(),_._21(null,["",""])),(l()(),_._21(null,["\n                        "])),(l()(),_._18(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),_._21(null,["",""])),(l()(),_._21(null,["\n                        "])),(l()(),_._18(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),_._21(null,["",""])),(l()(),_._21(null,["\n                        "])),(l()(),_._18(0,null,null,1,"td",[],null,null,null,null,null)),(l()(),_._21(null,["",""])),(l()(),_._21(null,["\n                    "]))],function(l,n){l(n,1,0,l(n,2,0,n.context.$implicit.score<150))},function(l,n){l(n,5,0,n.context.$implicit.patient.id),l(n,8,0,n.context.$implicit.patient.name),l(n,11,0,n.context.$implicit.patient.age),l(n,14,0,n.context.$implicit.score)})}function i(l){return _._17(0,[(l()(),_._18(0,null,null,25,"table",[["class","table"]],null,null,null,null,null)),(l()(),_._21(null,["\n                "])),(l()(),_._18(0,null,null,16,"thead",[],null,null,null,null,null)),(l()(),_._21(null,["\n                    "])),(l()(),_._18(0,null,null,13,"tr",[],null,null,null,null,null)),(l()(),_._21(null,["\n                        "])),(l()(),_._18(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),_._21(null,["#"])),(l()(),_._21(null,["\n                        "])),(l()(),_._18(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),_._21(null,["Name"])),(l()(),_._21(null,["\n                        "])),(l()(),_._18(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),_._21(null,["Age"])),(l()(),_._21(null,["\n                        "])),(l()(),_._18(0,null,null,1,"th",[],null,null,null,null,null)),(l()(),_._21(null,["Score"])),(l()(),_._21(null,["\n                    "])),(l()(),_._21(null,["\n                "])),(l()(),_._21(null,["\n                "])),(l()(),_._18(0,null,null,4,"tbody",[],null,null,null,null,null)),(l()(),_._21(null,["\n                    "])),(l()(),_._22(16777216,null,null,1,null,r)),_._19(802816,null,0,f.i,[_._2,_._3,_.m],{ngForOf:[0,"ngForOf"]},null),(l()(),_._21(null,["\n                "])),(l()(),_._21(null,["\n            "]))],function(l,n){l(n,23,0,n.context.$implicit)},null)}function a(l){return _._17(0,[(l()(),_._21(null,["\n                "])),(l()(),_._18(0,null,null,1,"span",[["class","text-center"]],null,null,null,null,null)),(l()(),_._21(null,["Loading"])),(l()(),_._21(null,["\n            "]))],null,null)}function o(l){return _._17(0,[(l()(),_._18(0,null,null,74,"div",[["class","container"]],null,null,null,null,null)),(l()(),_._21(null,["\n    "])),(l()(),_._18(0,null,null,3,"h1",[],null,null,null,null,null)),(l()(),_._21(null,["Mclaren Task "])),(l()(),_._18(0,null,null,1,"small",[],null,null,null,null,null)),(l()(),_._21(null,["Front-end recruitment challenge"])),(l()(),_._21(null,["\n    "])),(l()(),_._18(0,null,null,1,"p",[["class","lead"]],null,null,null,null,null)),(l()(),_._21(null,["\n        A hospital is running a trial to see if their patients age 20-40 are falling below the recommended level of activity\n    "])),(l()(),_._21(null,["\n    "])),(l()(),_._18(0,null,null,13,"p",[["class","lead"]],null,null,null,null,null)),(l()(),_._21(null,["\n        This is displayed by an easy score system. Each minute of vigorous excersize amounts to "])),(l()(),_._18(0,null,null,1,"code",[],null,null,null,null,null)),(l()(),_._21(null,["1"])),(l()(),_._21(null,[" score. Moderate\n        excersize amounts to "])),(l()(),_._18(0,null,null,1,"code",[],null,null,null,null,null)),(l()(),_._21(null,["0.5"])),(l()(),_._21(null,[" score. It is recommended to have a score of "])),(l()(),_._18(0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),_._21(null,["150"])),(l()(),_._21(null,[", or they are\n        most likely "])),(l()(),_._18(0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),_._21(null,["unhealthy"])),(l()(),_._21(null,[".\n    "])),(l()(),_._21(null,["\n    "])),(l()(),_._18(0,null,null,48,"div",[["class","row"]],null,null,null,null,null)),(l()(),_._21(null,["\n        "])),(l()(),_._18(0,null,null,16,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),_._21(null,["\n            "])),(l()(),_._18(0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),_._21(null,["\n                "])),(l()(),_._18(0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,u){var t=!0,e=l.component;if("click"===n){t=!1!==e.sortById()&&t}return t},null,null)),(l()(),_._21(null,["Sort by ID"])),(l()(),_._21(null,["\n                "])),(l()(),_._18(0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,u){var t=!0,e=l.component;if("click"===n){t=!1!==e.sortByScore()&&t}return t},null,null)),(l()(),_._21(null,["Sort by score"])),(l()(),_._21(null,["\n                "])),(l()(),_._18(0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,u){var t=!0,e=l.component;if("click"===n){t=!1!==e.sortByAge()&&t}return t},null,null)),(l()(),_._21(null,["Sort by age"])),(l()(),_._21(null,["\n                "])),(l()(),_._18(0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,u){var t=!0,e=l.component;if("click"===n){t=!1!==e.sortByName()&&t}return t},null,null)),(l()(),_._21(null,["Sort by name"])),(l()(),_._21(null,["\n            "])),(l()(),_._21(null,["\n        "])),(l()(),_._21(null,["\n        "])),(l()(),_._18(0,null,null,14,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),_._21(null,["\n            "])),(l()(),_._18(0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),_._21(null,["\n                "])),(l()(),_._18(0,null,null,5,"input",[["class","form-control"],["placeholder","Search..."]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,u){var t=!0,e=l.component;if("input"===n){t=!1!==_._23(l,50)._handleInput(u.target.value)&&t}if("blur"===n){t=!1!==_._23(l,50).onTouched()&&t}if("compositionstart"===n){t=!1!==_._23(l,50)._compositionStart()&&t}if("compositionend"===n){t=!1!==_._23(l,50)._compositionEnd(u.target.value)&&t}if("ngModelChange"===n){t=!1!==(e.searchQuery=u)&&t}if("ngModelChange"===n){t=!1!==e.searchChange(u)&&t}return t},null,null)),_._19(16384,null,0,m.d,[_._12,_.Z,[2,m.e]],null,null),_._24(1024,null,m.f,function(l){return[l]},[m.d]),_._19(671744,null,0,m.g,[[8,null],[8,null],[8,null],[2,m.f]],{model:[0,"model"]},{update:"ngModelChange"}),_._24(2048,null,m.h,null,[m.g]),_._19(16384,null,0,m.i,[m.h],null,null),(l()(),_._21(null,["\n                "])),(l()(),_._18(0,null,null,1,"small",[["class","form-text text-muted"],["id","emailHelp"]],null,null,null,null,null)),(l()(),_._21(null,["Search by id, age, score and name."])),(l()(),_._21(null,["\n            "])),(l()(),_._21(null,["\n        "])),(l()(),_._21(null,["\n        "])),(l()(),_._18(0,null,null,11,"div",[["class","col-lg-12"]],null,null,null,null,null)),(l()(),_._21(null,["\n            "])),(l()(),_._22(16777216,null,null,2,null,e)),_._19(16384,null,0,f.j,[_._2,_._3],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),_._25(131072,f.k,[_._10]),(l()(),_._21(null,["\n            "])),(l()(),_._22(16777216,null,null,2,null,i)),_._19(16384,null,0,f.j,[_._2,_._3],{ngIf:[0,"ngIf"]},null),_._25(131072,f.k,[_._10]),(l()(),_._21(null,["\n            "])),(l()(),_._22(0,[["loading",2]],null,0,null,a)),(l()(),_._21(null,["\n        "])),(l()(),_._21(null,["\n    "])),(l()(),_._21(null,["\n"])),(l()(),_._21(null,["\n"]))],function(l,n){var u=n.component;l(n,52,0,u.searchQuery),l(n,64,0,_._26(n,64,0,_._23(n,65).transform(!u.searchQuery&&u.summary$)),_._23(n,71)),l(n,68,0,_._26(n,68,0,_._23(n,69).transform(u.searchQuery&&u.searchSummary$)))},function(l,n){l(n,49,0,_._23(n,54).ngClassUntouched,_._23(n,54).ngClassTouched,_._23(n,54).ngClassPristine,_._23(n,54).ngClassDirty,_._23(n,54).ngClassValid,_._23(n,54).ngClassInvalid,_._23(n,54).ngClassPending)})}function c(l){return _._17(0,[(l()(),_._18(0,null,null,1,"app-root",[],null,null,null,o,y)),_._19(49152,null,0,d.a,[p.a],null,null)],null,null)}var s=u("k7ea"),_=u("/oeL"),f=u("qbdv"),d=u("wQAS"),m=u("bm2B"),p=u("H/Di");u.d(n,"a",function(){return h});var g=[s.a],y=_._16({encapsulation:0,styles:g,data:{}}),h=_._27("app-root",d.a,c,{},{},[])},qtrl:function(l,n){function u(l){throw new Error("Cannot find module '"+l+"'.")}u.keys=function(){return[]},u.resolve=u,l.exports=u,u.id="qtrl"},wQAS:function(l,n,u){"use strict";var t=u("H/Di");u.d(n,"a",function(){return e});var e=function(){function l(l){this.summaryService=l,this.summary$=l.Summary$}return l.prototype.sortByScore=function(){this.summary$=this.summaryService.Summary$.map(function(l){return l.sort(function(l,n){return l.score>n.score?1:-1})})},l.prototype.sortById=function(){this.summary$=this.summaryService.Summary$.map(function(l){return l.sort(function(l,n){return l.patient.id>n.patient.id?1:-1})})},l.prototype.sortByAge=function(){this.summary$=this.summaryService.Summary$.map(function(l){return l.sort(function(l,n){return l.patient.age>n.patient.age?1:-1})})},l.prototype.sortByName=function(){this.summary$=this.summaryService.Summary$.map(function(l){return l.sort(function(l,n){return l.patient.name>n.patient.name?1:-1})})},l.prototype.searchChange=function(l){this.searchSummary$=this.summaryService.Summary$.map(function(n){return n.filter(function(n){return!!n.score.toString().includes(l)||(!!n.patient.id.toString().includes(l)||(!!n.patient.age.toString().includes(l)||(!!n.patient.name.toString().includes(l)||void 0)))})})},l.ctorParameters=function(){return[{type:t.a}]},l}()}},[1]);